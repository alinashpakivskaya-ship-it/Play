<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–≠–º–æ—Ü–∏–∏ - –ò–≥—Ä–∞ –ó–Ω–∞–Ω–∏–π</title>
    <link rel="stylesheet" href="chess-style.css">
    <link rel="stylesheet" href="modal-styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600;700;800&family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
    <style>
        .task-instruction-content {
            margin: 20px 0;
        }
        
        .task-instruction {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: #2C3E50;
            font-weight: 600;
            text-align: center;
        }
        
        .task-phrase-container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            border: 2px dashed #FFD166;
        }
        
        .task-phrase-label {
            font-weight: 600;
            color: #FFD166;
            margin-bottom: 15px;
            font-size: 1.1rem;
            text-align: center;
        }
        
        .task-phrase {
            font-size: 1.6rem;
            color: white;
            font-weight: 700;
            text-align: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            border-left: 4px solid #FFD166;
            line-height: 1.4;
        }
        
        .success-btn {
            background: linear-gradient(135deg, #06D6A0, #04A580);
        }
        
        .success-btn:hover {
            background: linear-gradient(135deg, #04A580, #038C6A);
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
    </style>
</head>
<body>
    <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω –¥–ª—è —ç–º–æ—Ü–∏–π -->
    <div class="chess-background">
        <div class="chess-bubble bubble-1">üòä</div>
        <div class="chess-bubble bubble-2">üòÇ</div>
        <div class="chess-bubble bubble-3">ü§î</div>
        <div class="chess-bubble bubble-4">üò¢</div>
        <div class="chess-bubble bubble-5">üò†</div>
        <div class="floating-pawn">üò≤</div>
        <div class="floating-pawn">üòÇ</div>
        <div class="floating-pawn">ü§î</div>
    </div>

    <!-- –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ -->
    <div class="confetti-container"></div>

    <div class="chess-container">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <header class="chess-header">
            <div class="header-content">
                <h1 class="chess-title">
                    <span class="title-part">üòä –≠–º–æ—Ü–∏–∏</span>
                    <span class="title-part">–∏ –í—ã—Ä–∞–∂–µ–Ω–∏—è üé≠</span>
                </h1>
                <p class="chess-subtitle">–†–∞–∑–≤–∏–≤–∞–π —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –∏ –∞–∫—Ç—ë—Ä—Å–∫–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏!</p>
                <div class="header-buttons">
                    <button class="back-button" onclick="goBack()">‚Üê –ù–∞–∑–∞–¥ –∫ –≤—ã–±–æ—Ä—É</button>
                    <button class="new-game-button" onclick="startNewGame()">üîÑ –ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
                </div>
            </div>
        </header>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω -->
        <main class="chess-game">
            <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å - –ò–≥—Ä–æ–≤–∞—è –¥–æ—Å–∫–∞ -->
            <section class="board-section">
                <div class="board-container">
                    <div class="board-header">
                        <h2>üéØ –ò–≥—Ä–æ–≤–∞—è –î–æ—Å–∫–∞</h2>
                        <p>–ù–∞–π–¥–∏ –ø–æ–ª–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∫–∞–∂–µ—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä!</p>
                    </div>
                    
                    <!-- –ö—Ä—É–ø–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—è -->
                    <div class="current-field-display" id="current-field-display">
                        <div class="field-name-large">–ù–∞—á–∏–Ω–∞–µ–º –∏–≥—Ä—É!</div>
                    </div>
                    
                    <div class="game-board-container">
                        <div class="game-board" id="game-board">
                            <!-- –î–æ—Å–∫–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è JavaScript -->
                        </div>
                        <!-- –§–∏—à–∫–∞ –∏–≥—Ä–æ–∫–∞ -->
                        <div class="player-token" id="player-token"></div>
                    </div>
                </div>
            </section>

            <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å - –¶–≤–µ—Ç–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ -->
            <section class="cards-section">
                <div class="cards-container">
                    <div class="cards-header">
                        <h2>üé® –¶–≤–µ—Ç–Ω—ã–µ –ö–∞—Ä—Ç–æ—á–∫–∏</h2>
                        <p>–í—ã–±–µ—Ä–∏ –∫–∞—Ä—Ç–æ—á–∫—É —Ü–≤–µ—Ç–∞ —Ç–≤–æ–µ–≥–æ –ø–æ–ª—è!</p>
                    </div>
                    
                    <div class="color-cards" id="color-cards">
                        <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è JavaScript -->
                    </div>
                    
                    <div class="current-field" id="current-field">
                        <div class="field-card">
                            <div class="field-icon">üéØ</div>
                            <div class="field-info">
                                <div class="field-name">–í—ã–±–µ—Ä–∏ –ø–æ–ª–µ</div>
                                <div class="field-category">–ù–∞–π–¥–∏ –Ω—É–∂–Ω—É—é –∫–ª–µ—Ç–∫—É</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- –ü–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π -->
                    <div class="instructions-panel" id="instructions-panel">
                        <div class="instruction-step active" id="step-1">
                            <div class="step-number">1</div>
                            <div class="step-text">üéØ –ù–∞–π–¥–∏ –ø–æ–ª–µ –Ω–∞ –¥–æ—Å–∫–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∫–∞–∑–∞–Ω–æ –≤—ã—à–µ</div>
                        </div>
                        <div class="instruction-step" id="step-2">
                            <div class="step-number">2</div>
                            <div class="step-text">üé® –í—ã–±–µ—Ä–∏ –∫–∞—Ä—Ç–æ—á–∫—É —Ü–≤–µ—Ç–∞ —Ç–≤–æ–µ–≥–æ –ø–æ–ª—è</div>
                        </div>
                        <div class="instruction-step" id="step-3">
                            <div class="step-number">3</div>
                            <div class="step-text">üé≠ –í—ã–ø–æ–ª–Ω–∏ –∑–∞–¥–∞–Ω–∏–µ –∏ –ø–æ–ª—É—á–∏ –º–æ–Ω–µ—Ç—É!</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å - –ò–≥—Ä–æ–∫–∏ –∏ –º–∞–≥–∞–∑–∏–Ω -->
            <section class="info-section">
                <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–≥—Ä–æ–∫–∞—Ö -->
                <div class="players-panel">
                    <div class="panel-header">
                        <h3>üëë –ò–≥—Ä–æ–∫–∏</h3>
                        <div class="turn-indicator" id="turn-indicator">
                            <span class="turn-dot"></span>
                            –•–æ–¥: <span id="current-player">–ò–≥—Ä–æ–∫ 1</span>
                        </div>
                    </div>
                    
                    <div class="players-list" id="players-list">
                        <!-- –ò–≥—Ä–æ–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è JavaScript -->
                    </div>
                </div>

                <!-- –ú–∞–≥–∞–∑–∏–Ω -->
                <div class="shop-panel">
                    <div class="panel-header">
                        <h3>üõçÔ∏è –ú–∞–≥–∞–∑–∏–Ω –ü—Ä–∏–∑–æ–≤</h3>
                        <div class="coins-display">
                            üí∞ <span id="player-coins">0</span> –º–æ–Ω–µ—Ç
                        </div>
                    </div>
                    
                    <div class="shop-items" id="shop-items">
                        <!-- –¢–æ–≤–∞—Ä—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è JavaScript -->
                    </div>
                    
                    <button class="buy-button" id="buy-button" disabled>üéÅ –ö—É–ø–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω–æ–µ</button>
                </div>

                <!-- –¢–µ–∫—É—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ -->
                <div class="task-panel">
                    <div class="panel-header">
                        <h3>üìù –ó–∞–¥–∞–Ω–∏–µ</h3>
                    </div>
                    <div class="task-content" id="task-content">
                        <p>üéØ –ù–∞—á–∏–Ω–∞–µ–º –∏–≥—Ä—É! –ü–µ—Ä–≤—ã–π –∏–≥—Ä–æ–∫ –∏—â–µ—Ç –ø–æ–ª–µ...</p>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –∑–∞–¥–∞–Ω–∏–µ–º -->
    <div class="modal" id="task-modal">
        <div class="modal-content chess-modal">
            <div class="modal-header">
                <h2 id="task-category">üòä –≠–º–æ—Ü–∏–∏</h2>
                <div class="category-badge" id="category-badge">–†–∞–¥–æ—Å—Ç—å</div>
            </div>
            
            <div class="task-instruction-content" id="task-instruction-content">
                <div class="task-instruction" id="task-instruction">
                    –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–¥–∞–Ω–∏—è...
                </div>
                
                <div class="task-phrase-container">
                    <div class="task-phrase-label">üé≠ –ü—Ä–æ–∏–∑–Ω–µ—Å–∏ —Ñ—Ä–∞–∑—É:</div>
                    <div class="task-phrase" id="task-phrase">
                        –§—Ä–∞–∑–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="modal-btn success-btn" id="completed-task">‚úÖ –í—ã–ø–æ–ª–Ω–∏–ª (+1 –º–æ–Ω–µ—Ç–∞)</button>
                <button class="modal-btn cancel-btn" id="failed-task">‚ùå –ù–µ –≤—ã–ø–æ–ª–Ω–∏–ª (+0 –º–æ–Ω–µ—Ç)</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º -->
    <div class="modal" id="result-modal">
        <div class="modal-content result-modal">
            <div class="result-icon" id="result-icon">üéØ</div>
            <h2 id="result-title">–†–µ–∑—É–ª—å—Ç–∞—Ç</h2>
            
            <div class="result-content" id="result-content">
                <p class="result-message" id="result-message">–¢—ã –º–æ–ª–æ–¥–µ—Ü!</p>
            </div>
            
            <div class="reward-info" id="reward-info">
                <div class="coins-earned">+<span id="coins-earned">0</span> –º–æ–Ω–µ—Ç</div>
            </div>
            
            <button class="modal-btn continue-btn" onclick="closeResultModal()">üéÆ –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏–≥—Ä—É</button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–±–µ–¥—ã -->
    <div class="modal" id="win-modal">
        <div class="modal-content win-modal">
            <div class="win-icon">üèÜ</div>
            <h2>üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!</h2>
            
            <div class="winner-info" id="winner-info">
                <div class="winner-name" id="winner-name">–ò–≥—Ä–æ–∫ 1</div>
                <div class="winner-title">—Å—Ç–∞–ª –ú–∞—Å—Ç–µ—Ä–æ–º –≠–º–æ—Ü–∏–π!</div>
            </div>
            
            <div class="win-stats">
                <div class="stat">üïí –í—Ä–µ–º—è –∏–≥—Ä—ã: <span id="game-time">0:00</span></div>
                <div class="stat">üí∞ –ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ –º–æ–Ω–µ—Ç: <span id="total-coins">0</span></div>
                <div class="stat">üé≠ –í—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞–¥–∞–Ω–∏–π: <span id="total-tasks">0</span></div>
            </div>
            
            <div class="win-actions">
                <button class="modal-btn play-again-btn" onclick="playAgain()">üîÑ –ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
                <button class="modal-btn menu-btn" onclick="goToMenu()">üè† –í –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</button>
            </div>
        </div>
    </div>

    <script src="emotions-script.js"></script>
</body>
</html>